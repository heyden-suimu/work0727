webpackJsonp([9,12],{2:function(e,t,n){e.exports={default:n(6),__esModule:!0}},6:function(e,t,n){n(8),e.exports=n(1).Object.assign},7:function(e,t,n){"use strict";var r=n(16),a=n(23),i=n(21),o=n(24),s=n(26),c=Object.assign;e.exports=!c||n(15)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=o(e),c=arguments.length,l=1,d=a.f,u=i.f;c>l;)for(var f,A=s(arguments[l++]),h=d?r(A).concat(d(A)):r(A),p=h.length,g=0;p>g;)u.call(A,f=h[g++])&&(n[f]=A[f]);return n}:c},8:function(e,t,n){var r=n(14);r(r.S+r.F,"Object",{assign:n(7)})},9:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(2),i=r(a);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},119:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),i=r(a),o=n(13),s=r(o),c=n(12),l=r(c),d=n(9),u=r(d),f=n(11),A=n(10),h=n(22),p=n(19);t.default={data:function(){var e=(new Date).toLocaleDateString();return{LicenseNo:"",Source:"",currentPage4:4,tableData:[],currentPage:1,listsizes:[8,12,16,20],listsize:8,totalList:0,start:0,orderList:[],surelist:[],order:"",loading:"",dialogVisible:!1,change_text:p.change_text,salesmanName:"",time:e}},created:function(){},mounted:function(){(0,f.exit)(this),this.init()},components:{},computed:(0,u.default)({},(0,A.mapState)(["orderlist"])),methods:(0,u.default)({},(0,A.mapActions)(["getOrderList"]),{init:function(){var e=this;return(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("getOrderList");case 3:e.loading=!1,e.surelist=e.$store.state.orderlist.filter(function(e){return e.order&&2==e.order.approvalStatus}),e.tableData=e.surelist.slice(e.start,e.start+e.listsize),e.totalList=e.surelist.length,e.orderList=e.surelist;case 8:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.start=this.listsize*(this.currentPage-1),this.listsize=e,this.tableData=this.orderList.slice(this.start,this.start+e)},handleCurrentChange:function(e){this.start=this.listsize*(e-1),this.currentPage=e,this.tableData=this.orderList.slice(this.start,this.start+this.listsize)},handleClick:function(e){e.priceSession.recordId=e._id,e.priceSession.order=e.order,e.priceSession.UserInfo.ModleName=e.reinfo.ModleName,e.priceSession.UserInfo.LicenseOwner=e.reinfo.LicenseOwner,e.priceSession.UserInfo.LicenseNo=e.reinfo.LicenseNo,sessionStorage.setItem("baojia",(0,i.default)(e.priceSession));var t=e.priceSession.Items.filter(function(t){return t.Source==e.order.Source});if(t[0]){t=t[0];var n=(0,f.analyzeTabel)(p.change_text.alltype,t,["chinese","allfei"]),r=(0,f.fliterBaoe)(t);sessionStorage.setItem("Source",e.order.Source),sessionStorage.setItem("tableData1",(0,i.default)(n)),sessionStorage.setItem("tableData",(0,i.default)(r)),this.$router.push("orderoffer?type=read")}},handleSure:function(e,t){this.dialogVisible=!0,this.order=e,this.orderindex=t},isaccess:function(e){var t=this;return(0,l.default)(s.default.mark(function n(){var r,a,i;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r={orderId:t.order.order.orderId,approvalStatus:e,time:t.time},sessionStorage.userInfo){n.next=4;break}return location.relode(),n.abrupt("return");case 4:if(a=JSON.parse(sessionStorage.userInfo),!(a.level>2)){n.next=8;break}return(0,f.layer)("error","没有权限",t),n.abrupt("return");case 8:return n.next=10,(0,h.patchOrder)(r);case 10:i=n.sent,0==i.code?("3"==e&&(0,f.layer)("success","出单成功",t),"4"==e&&(0,f.layer)("info","操作成功",t),t.dialogVisible=!1,t.tableData.splice(t.orderindex,1)):(0,f.layer)("success",i.ch,t);case 12:case"end":return n.stop()}},n,t)}))()},search:function(){this.searchorder=this.surelist,this.tableData=(0,f.serachInput)({LicenseNo:this.LicenseNo,salesmanName:{name:"order",value:this.salesmanName,type:"text"},Source:{name:"order",value:this.Source,type:"changetext"}},this.searchorder),this.orderList=this.tableData,this.totalList=this.tableData.length},initorder:function(){this.order=""}})}},190:function(e,t,n){t=e.exports=n(4)(),t.push([e.id,'.incontent[data-v-7278f7c8]{position:absolute;left:0;right:0;bottom:0;top:0;overflow:scroll;padding-top:.3rem;background:#fff;font-size:14px}.incontent div.search[data-v-7278f7c8]{width:100%}.incontent div.search .serinput[data-v-7278f7c8]{width:1.6rem}.incontent div.search .el-col[data-v-7278f7c8]{text-align:right;margin-bottom:.16rem}.incontent div.search .serfoot[data-v-7278f7c8]{width:100%;text-align:right;padding-bottom:.1rem;margin-top:-.1rem;padding-right:.5rem;border-bottom:1px solid #ccc;margin-bottom:.4rem;float:right}.incontent div.search .serfoot [data-v-7278f7c8]:before{content:"";clear:both;width:100%;overflow:hidden;visibility:hidden}.incontent div.search .serfoot .el-button[data-v-7278f7c8]{background:#d43f3a;color:#fff;width:1rem}.incontent div.search .serfoot .el-button[data-v-7278f7c8]:first-child:hover{border-color:#d43f3a}.incontent .handle[data-v-7278f7c8]{height:.5rem;line-height:.5rem;text-align:right;padding-right:.3rem}.incontent .handle span[data-v-7278f7c8]{margin-right:.26rem;color:#4897d3;cursor:default}.incontent .el-pagination[data-v-7278f7c8]{text-align:center;margin-top:.5rem}.incontent .surelist[data-v-7278f7c8]{margin-top:-.2rem}.incontent .surelist .el-row[data-v-7278f7c8]{height:.4rem;line-height:.4rem}.incontent .surelist .foot[data-v-7278f7c8]{margin-top:.1rem;text-align:center}.incontent .surelist .foot .el-button[data-v-7278f7c8]{width:.9rem;margin-left:.2rem;color:#fff;background:#ccc}.incontent .surelist .foot .el-button[data-v-7278f7c8]:first-child{margin:0;background:#5bc0de}',"",{version:3,sources:["/./src/page/ordermag/sureorder.vue"],names:[],mappings:"AACA,4BAA4B,kBAAkB,OAAO,QAAQ,SAAS,MAAM,gBAAgB,kBAAkB,gBAAgB,cAAc,CAC3I,AACD,uCAAuC,UAAU,CAChD,AACD,iDAAiD,YAAY,CAC5D,AACD,+CAA+C,iBAAiB,oBAAoB,CACnF,AACD,gDAAgD,WAAW,iBAAiB,qBAAqB,kBAAkB,oBAAoB,6BAA6B,oBAAoB,WAAW,CAClM,AACD,wDAAyD,WAAW,WAAW,WAAW,gBAAgB,iBAAiB,CAC1H,AACD,2DAA2D,mBAAmB,WAAY,UAAU,CACnG,AACD,6EAA8E,oBAAoB,CACjG,AACD,oCAAoC,aAAa,kBAAkB,iBAAiB,mBAAmB,CACtG,AACD,yCAAyC,oBAAoB,cAAc,cAAc,CACxF,AACD,2CAA2C,kBAAkB,gBAAgB,CAC5E,AACD,sCAAsC,iBAAiB,CACtD,AACD,8CAA8C,aAAa,iBAAiB,CAC3E,AACD,4CAA4C,iBAAiB,iBAAiB,CAC7E,AACD,uDAAuD,YAAY,kBAAkB,WAAY,eAAe,CAC/G,AACD,mEAAoE,SAAS,kBAAkB,CAC9F",file:"sureorder.vue",sourcesContent:['\n.incontent[data-v-7278f7c8]{position:absolute;left:0;right:0;bottom:0;top:0;overflow:scroll;padding-top:.3rem;background:#fff;font-size:14px\n}\n.incontent div.search[data-v-7278f7c8]{width:100%\n}\n.incontent div.search .serinput[data-v-7278f7c8]{width:1.6rem\n}\n.incontent div.search .el-col[data-v-7278f7c8]{text-align:right;margin-bottom:.16rem\n}\n.incontent div.search .serfoot[data-v-7278f7c8]{width:100%;text-align:right;padding-bottom:.1rem;margin-top:-.1rem;padding-right:.5rem;border-bottom:1px solid #ccc;margin-bottom:.4rem;float:right\n}\n.incontent div.search .serfoot [data-v-7278f7c8]::before{content:"";clear:both;width:100%;overflow:hidden;visibility:hidden\n}\n.incontent div.search .serfoot .el-button[data-v-7278f7c8]{background:#d43f3a;color:white;width:1rem\n}\n.incontent div.search .serfoot .el-button[data-v-7278f7c8]:nth-child(1):hover{border-color:#d43f3a\n}\n.incontent .handle[data-v-7278f7c8]{height:.5rem;line-height:.5rem;text-align:right;padding-right:.3rem\n}\n.incontent .handle span[data-v-7278f7c8]{margin-right:.26rem;color:#4897D3;cursor:default\n}\n.incontent .el-pagination[data-v-7278f7c8]{text-align:center;margin-top:.5rem\n}\n.incontent .surelist[data-v-7278f7c8]{margin-top:-.2rem\n}\n.incontent .surelist .el-row[data-v-7278f7c8]{height:.4rem;line-height:.4rem\n}\n.incontent .surelist .foot[data-v-7278f7c8]{margin-top:.1rem;text-align:center\n}\n.incontent .surelist .foot .el-button[data-v-7278f7c8]{width:.9rem;margin-left:.2rem;color:white;background:#ccc\n}\n.incontent .surelist .foot .el-button[data-v-7278f7c8]:nth-child(1){margin:0;background:#5BC0DE\n}\n'],sourceRoot:"webpack://"}])},206:function(e,t,n){var r=n(190);"string"==typeof r&&(r=[[e.id,r,""]]);n(5)(r,{});r.locals&&(e.exports=r.locals)},228:function(e,t,n){n(206);var r=n(3)(n(119),n(246),"data-v-7278f7c8",null);e.exports=r.exports},246:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"incontent"},[n("div",{staticClass:"search"},[n("el-row",[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"grid-content bg-purple"},[n("span",[e._v("车牌号：")]),n("el-input",{staticClass:"serinput",on:{change:e.search},model:{value:e.LicenseNo,callback:function(t){e.LicenseNo=t},expression:"LicenseNo"}})],1)]),e._v(" "),n("el-col",{attrs:{span:5}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("span",[e._v("投保公司：")]),n("el-input",{staticClass:"serinput",on:{change:e.search},model:{value:e.Source,callback:function(t){e.Source=t},expression:"Source"}})],1)]),e._v(" "),n("el-col",{attrs:{span:5}},[n("div",{staticClass:"grid-content bg-purple"},[n("span",[e._v("业务员：")]),n("el-input",{staticClass:"serinput",on:{change:e.search},model:{value:e.salesmanName,callback:function(t){e.salesmanName=t},expression:"salesmanName"}})],1)])],1),e._v(" "),n("div",{staticClass:"serfoot"},[n("el-button",{on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),e._m(0),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"96%","margin-left":"2%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{prop:"reinfo.LicenseOwner",label:"车主","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"reinfo.LicenseNo",label:"车牌号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"reinfo.ForceExpireDate",label:"商业险起保日期"}}),e._v(" "),n("el-table-column",{attrs:{prop:"reinfo.ForceExpireDate",label:"交强险起保日期"}}),e._v(" "),n("el-table-column",{attrs:{prop:"order.salesmanName",label:"业务员"}}),e._v(" "),n("el-table-column",{attrs:{label:"确认出单"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.handleSure(t.row,t.$index)}}},[e._v("确认")])]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"80",label:"详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.handleClick(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"是否通过审核",size:"tiny",top:"25%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.initorder}},[n("div",{staticClass:"surelist"},[n("el-row",[n("el-col",{attrs:{span:7}},[n("span",[e._v("车牌号：")])]),e._v(" "),n("el-col",{attrs:{span:17}},[n("span",[e._v(e._s(e.order.order&&e.order.order.LicenseNo))])])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:7}},[n("span",[e._v("投保公司：")])]),e._v(" "),n("el-col",{attrs:{span:17}},[n("span",[e._v(e._s(e.order.order&&e.change_text.suboffer[e.order.order.Source]))])])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:7}},[n("span",[e._v("日期：")])]),e._v(" "),n("el-col",{attrs:{span:17}},[n("span",[e._v(e._s(e.time))])])],1),e._v(" "),n("div",{staticClass:"foot"},[n("el-button",{on:{click:function(t){e.isaccess("3")}}},[e._v("通过")]),e._v(" "),n("el-button",{on:{click:function(t){e.isaccess("4")}}},[e._v("未通过")])],1)],1)]),e._v(" "),n("div",[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.listsizes,"page-size":e.listsize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalList},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"handle"},[n("span",[n("i",{staticClass:"el-icon-delete"}),e._v("批量删除")]),n("span",[n("i",{staticClass:"el-icon-upload2"}),e._v("导出Excel")])])}]}}});